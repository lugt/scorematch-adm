<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="smart.mall.dao.SmartOrderDao"> 

    <resultMap id="smartOrderMap" type="smart.mall.domain.SmartOrderDO">
        <id column="id" property="id"/>
        <result column="user_id" property="userId"/>
        <result column="payment_id" property="paymentId"/>
        <result column="delivery_id" property="deliveryId"/>
        <result column="merchandise" property="merchandise"/>
        <result column="status" property="status"/>
        <result column="pay_status" property="payStatus"/>
        <result column="distribution_status" property="distributionStatus"/>
        <result column="due_amount" property="dueAmount"/>
        <result column="paid_amount" property="paidAmount"/>
        <result column="taxes" property="taxes"/>
        <result column="payable_freight" property="payableFreight"/>
        <result column="real_freight" property="realFreight"/>
        <result column="pay_fee" property="payFee"/>
        <result column="promotions" property="promotions"/>
        <result column="discount" property="discount"/>
        <result column="order_amount" property="orderAmount"/>
        <result column="pay_time" property="payTime"/>
        <result column="send_time" property="sendTime"/>
        <result column="create_time" property="createTime"/>
        <result column="completion_time" property="completionTime"/>
        <result column="accept_time" property="acceptTime"/>
        <result column="invoice" property="invoice"/>
        <result column="invoice_title" property="invoiceTitle"/>
        <result column="postscript" property="postscript"/>
        <result column="note" property="note"/>
        <result column="prop" property="prop"/>
        <result column="exp" property="exp"/>
        <result column="point" property="point"/>
        <result column="type" property="type"/>
    </resultMap>

    <sql id="allField">
        id,user_id,payment_id,delivery_id,merchandise,status,pay_status,distribution_status,due_amount,paid_amount,taxes,payable_freight,real_freight,pay_fee,promotions,discount,order_amount,pay_time,send_time,create_time,completion_time,accept_time,invoice,invoice_title,postscript,note,prop,exp,point,type
    </sql>

    <insert id="save" useGeneratedKeys="true" keyProperty="id" parameterType="smart.mall.domain.SmartOrderDO">
        insert into smart_order
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="userId != null" >
                user_id, 
            </if>
            <if test="paymentId != null" >
                payment_id, 
            </if>
            <if test="deliveryId != null" >
                delivery_id, 
            </if>
            <if test="merchandise != null and merchandise != ''" >
                merchandise, 
            </if>
            <if test="status != null" >
                status, 
            </if>
            <if test="payStatus != null" >
                pay_status, 
            </if>
            <if test="distributionStatus != null" >
                distribution_status, 
            </if>
            <if test="dueAmount != null" >
                due_amount, 
            </if>
            <if test="paidAmount != null" >
                paid_amount, 
            </if>
            <if test="taxes != null" >
                taxes, 
            </if>
            <if test="payableFreight != null" >
                payable_freight, 
            </if>
            <if test="realFreight != null" >
                real_freight, 
            </if>
            <if test="payFee != null" >
                pay_fee, 
            </if>
            <if test="promotions != null" >
                promotions, 
            </if>
            <if test="discount != null" >
                discount, 
            </if>
            <if test="orderAmount != null" >
                order_amount, 
            </if>
            <if test="payTime != null" >
                pay_time, 
            </if>
            <if test="sendTime != null" >
                send_time, 
            </if>
            <if test="createTime != null" >
                create_time, 
            </if>
            <if test="completionTime != null" >
                completion_time, 
            </if>
            <if test="acceptTime != null and acceptTime != ''" >
                accept_time, 
            </if>
            <if test="invoice != null" >
                invoice, 
            </if>
            <if test="invoiceTitle != null and invoiceTitle != ''" >
                invoice_title, 
            </if>
            <if test="postscript != null and postscript != ''" >
                postscript, 
            </if>
            <if test="note != null and note != ''" >
                note, 
            </if>
            <if test="prop != null and prop != ''" >
                prop, 
            </if>
            <if test="exp != null" >
                exp, 
            </if>
            <if test="point != null" >
                point, 
            </if>
            <if test="type != null" >
                type, 
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="userId != null" >
                #{userId}, 
            </if>
            <if test="paymentId != null" >
                #{paymentId}, 
            </if>
            <if test="deliveryId != null" >
                #{deliveryId}, 
            </if>
            <if test="merchandise != null and merchandise != ''" >
                #{merchandise}, 
            </if>
            <if test="status != null" >
                #{status}, 
            </if>
            <if test="payStatus != null" >
                #{payStatus}, 
            </if>
            <if test="distributionStatus != null" >
                #{distributionStatus}, 
            </if>
            <if test="dueAmount != null" >
                #{dueAmount}, 
            </if>
            <if test="paidAmount != null" >
                #{paidAmount}, 
            </if>
            <if test="taxes != null" >
                #{taxes}, 
            </if>
            <if test="payableFreight != null" >
                #{payableFreight}, 
            </if>
            <if test="realFreight != null" >
                #{realFreight}, 
            </if>
            <if test="payFee != null" >
                #{payFee}, 
            </if>
            <if test="promotions != null" >
                #{promotions}, 
            </if>
            <if test="discount != null" >
                #{discount}, 
            </if>
            <if test="orderAmount != null" >
                #{orderAmount}, 
            </if>
            <if test="payTime != null" >
                #{payTime}, 
            </if>
            <if test="sendTime != null" >
                #{sendTime}, 
            </if>
            <if test="createTime != null" >
                #{createTime}, 
            </if>
            <if test="completionTime != null" >
                #{completionTime}, 
            </if>
            <if test="acceptTime != null and acceptTime != ''" >
                #{acceptTime}, 
            </if>
            <if test="invoice != null" >
                #{invoice}, 
            </if>
            <if test="invoiceTitle != null and invoiceTitle != ''" >
                #{invoiceTitle}, 
            </if>
            <if test="postscript != null and postscript != ''" >
                #{postscript}, 
            </if>
            <if test="note != null and note != ''" >
                #{note}, 
            </if>
            <if test="prop != null and prop != ''" >
                #{prop}, 
            </if>
            <if test="exp != null" >
                #{exp}, 
            </if>
            <if test="point != null" >
                #{point}, 
            </if>
            <if test="type != null" >
                #{type}, 
            </if>
        </trim>
    </insert>

    <update id="update" parameterType="smart.mall.domain.SmartOrderDO">
        update smart_order
        <set>
            <if test="userId != null" >
                user_id = #{userId}, 
            </if>
            <if test="paymentId != null" >
                payment_id = #{paymentId}, 
            </if>
            <if test="deliveryId != null" >
                delivery_id = #{deliveryId}, 
            </if>
            <if test="merchandise != null" >
                merchandise = #{merchandise}, 
            </if>
            <if test="status != null" >
                status = #{status}, 
            </if>
            <if test="payStatus != null" >
                pay_status = #{payStatus}, 
            </if>
            <if test="distributionStatus != null" >
                distribution_status = #{distributionStatus}, 
            </if>
            <if test="dueAmount != null" >
                due_amount = #{dueAmount}, 
            </if>
            <if test="paidAmount != null" >
                paid_amount = #{paidAmount}, 
            </if>
            <if test="taxes != null" >
                taxes = #{taxes}, 
            </if>
            <if test="payableFreight != null" >
                payable_freight = #{payableFreight}, 
            </if>
            <if test="realFreight != null" >
                real_freight = #{realFreight}, 
            </if>
            <if test="payFee != null" >
                pay_fee = #{payFee}, 
            </if>
            <if test="promotions != null" >
                promotions = #{promotions}, 
            </if>
            <if test="discount != null" >
                discount = #{discount}, 
            </if>
            <if test="orderAmount != null" >
                order_amount = #{orderAmount}, 
            </if>
            <if test="payTime != null" >
                pay_time = #{payTime}, 
            </if>
            <if test="sendTime != null" >
                send_time = #{sendTime}, 
            </if>
            <if test="createTime != null" >
                create_time = #{createTime}, 
            </if>
            <if test="completionTime != null" >
                completion_time = #{completionTime}, 
            </if>
            <if test="acceptTime != null" >
                accept_time = #{acceptTime}, 
            </if>
            <if test="invoice != null" >
                invoice = #{invoice}, 
            </if>
            <if test="invoiceTitle != null" >
                invoice_title = #{invoiceTitle}, 
            </if>
            <if test="postscript != null" >
                postscript = #{postscript}, 
            </if>
            <if test="note != null" >
                note = #{note}, 
            </if>
            <if test="prop != null" >
                prop = #{prop}, 
            </if>
            <if test="exp != null" >
                exp = #{exp}, 
            </if>
            <if test="point != null" >
                point = #{point}, 
            </if>
            <if test="type != null" >
                type = #{type}, 
            </if>
        </set>
        where id = #{id}
    </update>

    <update id="updateByExample">
        update smart_order
        <set>
            <if test="update.userId != null" >
                user_id = #{update.userId}, 
            </if>
            <if test="update.paymentId != null" >
                payment_id = #{update.paymentId}, 
            </if>
            <if test="update.deliveryId != null" >
                delivery_id = #{update.deliveryId}, 
            </if>
            <if test="update.merchandise != null" >
                merchandise = #{update.merchandise}, 
            </if>
            <if test="update.status != null" >
                status = #{update.status}, 
            </if>
            <if test="update.payStatus != null" >
                pay_status = #{update.payStatus}, 
            </if>
            <if test="update.distributionStatus != null" >
                distribution_status = #{update.distributionStatus}, 
            </if>
            <if test="update.dueAmount != null" >
                due_amount = #{update.dueAmount}, 
            </if>
            <if test="update.paidAmount != null" >
                paid_amount = #{update.paidAmount}, 
            </if>
            <if test="update.taxes != null" >
                taxes = #{update.taxes}, 
            </if>
            <if test="update.payableFreight != null" >
                payable_freight = #{update.payableFreight}, 
            </if>
            <if test="update.realFreight != null" >
                real_freight = #{update.realFreight}, 
            </if>
            <if test="update.payFee != null" >
                pay_fee = #{update.payFee}, 
            </if>
            <if test="update.promotions != null" >
                promotions = #{update.promotions}, 
            </if>
            <if test="update.discount != null" >
                discount = #{update.discount}, 
            </if>
            <if test="update.orderAmount != null" >
                order_amount = #{update.orderAmount}, 
            </if>
            <if test="update.payTime != null" >
                pay_time = #{update.payTime}, 
            </if>
            <if test="update.sendTime != null" >
                send_time = #{update.sendTime}, 
            </if>
            <if test="update.createTime != null" >
                create_time = #{update.createTime}, 
            </if>
            <if test="update.completionTime != null" >
                completion_time = #{update.completionTime}, 
            </if>
            <if test="update.acceptTime != null" >
                accept_time = #{update.acceptTime}, 
            </if>
            <if test="update.invoice != null" >
                invoice = #{update.invoice}, 
            </if>
            <if test="update.invoiceTitle != null" >
                invoice_title = #{update.invoiceTitle}, 
            </if>
            <if test="update.postscript != null" >
                postscript = #{update.postscript}, 
            </if>
            <if test="update.note != null" >
                note = #{update.note}, 
            </if>
            <if test="update.prop != null" >
                prop = #{update.prop}, 
            </if>
            <if test="update.exp != null" >
                exp = #{update.exp}, 
            </if>
            <if test="update.point != null" >
                point = #{update.point}, 
            </if>
            <if test="update.type != null" >
                type = #{update.type}, 
            </if>
        </set>
        where 1 = 1 
        <if test="example.id != null" >
            and id = #{example.id} 
        </if>
        <if test="example.userId != null" >
            and user_id = #{example.userId} 
        </if>
        <if test="example.paymentId != null" >
            and payment_id = #{example.paymentId} 
        </if>
        <if test="example.deliveryId != null" >
            and delivery_id = #{example.deliveryId} 
        </if>
        <if test="example.merchandise != null" >
            and merchandise = #{example.merchandise} 
        </if>
        <if test="example.status != null" >
            and status = #{example.status} 
        </if>
        <if test="example.payStatus != null" >
            and pay_status = #{example.payStatus} 
        </if>
        <if test="example.distributionStatus != null" >
            and distribution_status = #{example.distributionStatus} 
        </if>
        <if test="example.dueAmount != null" >
            and due_amount = #{example.dueAmount} 
        </if>
        <if test="example.paidAmount != null" >
            and paid_amount = #{example.paidAmount} 
        </if>
        <if test="example.taxes != null" >
            and taxes = #{example.taxes} 
        </if>
        <if test="example.payableFreight != null" >
            and payable_freight = #{example.payableFreight} 
        </if>
        <if test="example.realFreight != null" >
            and real_freight = #{example.realFreight} 
        </if>
        <if test="example.payFee != null" >
            and pay_fee = #{example.payFee} 
        </if>
        <if test="example.promotions != null" >
            and promotions = #{example.promotions} 
        </if>
        <if test="example.discount != null" >
            and discount = #{example.discount} 
        </if>
        <if test="example.orderAmount != null" >
            and order_amount = #{example.orderAmount} 
        </if>
        <if test="example.payTime != null" >
            and pay_time = #{example.payTime} 
        </if>
        <if test="example.sendTime != null" >
            and send_time = #{example.sendTime} 
        </if>
        <if test="example.createTime != null" >
            and create_time = #{example.createTime} 
        </if>
        <if test="example.completionTime != null" >
            and completion_time = #{example.completionTime} 
        </if>
        <if test="example.acceptTime != null" >
            and accept_time = #{example.acceptTime} 
        </if>
        <if test="example.invoice != null" >
            and invoice = #{example.invoice} 
        </if>
        <if test="example.invoiceTitle != null" >
            and invoice_title = #{example.invoiceTitle} 
        </if>
        <if test="example.postscript != null" >
            and postscript = #{example.postscript} 
        </if>
        <if test="example.note != null" >
            and note = #{example.note} 
        </if>
        <if test="example.prop != null" >
            and prop = #{example.prop} 
        </if>
        <if test="example.exp != null" >
            and exp = #{example.exp} 
        </if>
        <if test="example.point != null" >
            and point = #{example.point} 
        </if>
        <if test="example.type != null" >
            and type = #{example.type} 
        </if>
    </update>

    <delete id="delete">
        delete from smart_order
        where id = #{key}
    </delete>

    <delete id="deleteByKey">
        delete from smart_order
        where id = #{delete.id}
    </delete>

    <delete id="deleteByExample"> 
        delete from smart_order
        where 1 = 1 
        <if test="example.id != null" >
            and id = #{example.id} 
        </if>
        <if test="example.userId != null" >
            and user_id = #{example.userId} 
        </if>
        <if test="example.paymentId != null" >
            and payment_id = #{example.paymentId} 
        </if>
        <if test="example.deliveryId != null" >
            and delivery_id = #{example.deliveryId} 
        </if>
        <if test="example.merchandise != null" >
            and merchandise = #{example.merchandise} 
        </if>
        <if test="example.status != null" >
            and status = #{example.status} 
        </if>
        <if test="example.payStatus != null" >
            and pay_status = #{example.payStatus} 
        </if>
        <if test="example.distributionStatus != null" >
            and distribution_status = #{example.distributionStatus} 
        </if>
        <if test="example.dueAmount != null" >
            and due_amount = #{example.dueAmount} 
        </if>
        <if test="example.paidAmount != null" >
            and paid_amount = #{example.paidAmount} 
        </if>
        <if test="example.taxes != null" >
            and taxes = #{example.taxes} 
        </if>
        <if test="example.payableFreight != null" >
            and payable_freight = #{example.payableFreight} 
        </if>
        <if test="example.realFreight != null" >
            and real_freight = #{example.realFreight} 
        </if>
        <if test="example.payFee != null" >
            and pay_fee = #{example.payFee} 
        </if>
        <if test="example.promotions != null" >
            and promotions = #{example.promotions} 
        </if>
        <if test="example.discount != null" >
            and discount = #{example.discount} 
        </if>
        <if test="example.orderAmount != null" >
            and order_amount = #{example.orderAmount} 
        </if>
        <if test="example.payTime != null" >
            and pay_time = #{example.payTime} 
        </if>
        <if test="example.sendTime != null" >
            and send_time = #{example.sendTime} 
        </if>
        <if test="example.createTime != null" >
            and create_time = #{example.createTime} 
        </if>
        <if test="example.completionTime != null" >
            and completion_time = #{example.completionTime} 
        </if>
        <if test="example.acceptTime != null" >
            and accept_time = #{example.acceptTime} 
        </if>
        <if test="example.invoice != null" >
            and invoice = #{example.invoice} 
        </if>
        <if test="example.invoiceTitle != null" >
            and invoice_title = #{example.invoiceTitle} 
        </if>
        <if test="example.postscript != null" >
            and postscript = #{example.postscript} 
        </if>
        <if test="example.note != null" >
            and note = #{example.note} 
        </if>
        <if test="example.prop != null" >
            and prop = #{example.prop} 
        </if>
        <if test="example.exp != null" >
            and exp = #{example.exp} 
        </if>
        <if test="example.point != null" >
            and point = #{example.point} 
        </if>
        <if test="example.type != null" >
            and type = #{example.type} 
        </if>
    </delete>

    <select id="countByExample" resultType="java.lang.Integer"> 
        select count(*) from smart_order where 1 = 1 
        <if test="example.id != null" >
            and id = #{example.id} 
        </if>
        <if test="example.userId != null" >
            and user_id = #{example.userId} 
        </if>
        <if test="example.paymentId != null" >
            and payment_id = #{example.paymentId} 
        </if>
        <if test="example.deliveryId != null" >
            and delivery_id = #{example.deliveryId} 
        </if>
        <if test="example.merchandise != null and example.merchandise != ''" >
            and merchandise = #{example.merchandise} 
        </if>
        <if test="example.status != null" >
            and status = #{example.status} 
        </if>
        <if test="example.payStatus != null" >
            and pay_status = #{example.payStatus} 
        </if>
        <if test="example.distributionStatus != null" >
            and distribution_status = #{example.distributionStatus} 
        </if>
        <if test="example.dueAmount != null" >
            and due_amount = #{example.dueAmount} 
        </if>
        <if test="example.paidAmount != null" >
            and paid_amount = #{example.paidAmount} 
        </if>
        <if test="example.taxes != null" >
            and taxes = #{example.taxes} 
        </if>
        <if test="example.payableFreight != null" >
            and payable_freight = #{example.payableFreight} 
        </if>
        <if test="example.realFreight != null" >
            and real_freight = #{example.realFreight} 
        </if>
        <if test="example.payFee != null" >
            and pay_fee = #{example.payFee} 
        </if>
        <if test="example.promotions != null" >
            and promotions = #{example.promotions} 
        </if>
        <if test="example.discount != null" >
            and discount = #{example.discount} 
        </if>
        <if test="example.orderAmount != null" >
            and order_amount = #{example.orderAmount} 
        </if>
        <if test="example.payTime != null" >
            and pay_time = #{example.payTime} 
        </if>
        <if test="example.sendTime != null" >
            and send_time = #{example.sendTime} 
        </if>
        <if test="example.createTime != null" >
            and create_time = #{example.createTime} 
        </if>
        <if test="example.completionTime != null" >
            and completion_time = #{example.completionTime} 
        </if>
        <if test="example.acceptTime != null and example.acceptTime != ''" >
            and accept_time = #{example.acceptTime} 
        </if>
        <if test="example.invoice != null" >
            and invoice = #{example.invoice} 
        </if>
        <if test="example.invoiceTitle != null and example.invoiceTitle != ''" >
            and invoice_title = #{example.invoiceTitle} 
        </if>
        <if test="example.postscript != null and example.postscript != ''" >
            and postscript = #{example.postscript} 
        </if>
        <if test="example.note != null and example.note != ''" >
            and note = #{example.note} 
        </if>
        <if test="example.prop != null and example.prop != ''" >
            and prop = #{example.prop} 
        </if>
        <if test="example.exp != null" >
            and exp = #{example.exp} 
        </if>
        <if test="example.point != null" >
            and point = #{example.point} 
        </if>
        <if test="example.type != null" >
            and type = #{example.type} 
        </if>
    </select>

    <select id="listByExample"  resultMap="smartOrderMap">
        select <include refid="allField" />
        from smart_order where 1 = 1 
        <if test="example.id != null" >
            and id = #{example.id} 
        </if>
        <if test="example.userId != null" >
            and user_id = #{example.userId} 
        </if>
        <if test="example.paymentId != null" >
            and payment_id = #{example.paymentId} 
        </if>
        <if test="example.deliveryId != null" >
            and delivery_id = #{example.deliveryId} 
        </if>
        <if test="example.merchandise != null and example.merchandise != ''" >
            and merchandise = #{example.merchandise} 
        </if>
        <if test="example.status != null" >
            and status = #{example.status} 
        </if>
        <if test="example.payStatus != null" >
            and pay_status = #{example.payStatus} 
        </if>
        <if test="example.distributionStatus != null" >
            and distribution_status = #{example.distributionStatus} 
        </if>
        <if test="example.dueAmount != null" >
            and due_amount = #{example.dueAmount} 
        </if>
        <if test="example.paidAmount != null" >
            and paid_amount = #{example.paidAmount} 
        </if>
        <if test="example.taxes != null" >
            and taxes = #{example.taxes} 
        </if>
        <if test="example.payableFreight != null" >
            and payable_freight = #{example.payableFreight} 
        </if>
        <if test="example.realFreight != null" >
            and real_freight = #{example.realFreight} 
        </if>
        <if test="example.payFee != null" >
            and pay_fee = #{example.payFee} 
        </if>
        <if test="example.promotions != null" >
            and promotions = #{example.promotions} 
        </if>
        <if test="example.discount != null" >
            and discount = #{example.discount} 
        </if>
        <if test="example.orderAmount != null" >
            and order_amount = #{example.orderAmount} 
        </if>
        <if test="example.payTime != null" >
            and pay_time = #{example.payTime} 
        </if>
        <if test="example.sendTime != null" >
            and send_time = #{example.sendTime} 
        </if>
        <if test="example.createTime != null" >
            and create_time = #{example.createTime} 
        </if>
        <if test="example.completionTime != null" >
            and completion_time = #{example.completionTime} 
        </if>
        <if test="example.acceptTime != null and example.acceptTime != ''" >
            and accept_time = #{example.acceptTime} 
        </if>
        <if test="example.invoice != null" >
            and invoice = #{example.invoice} 
        </if>
        <if test="example.invoiceTitle != null and example.invoiceTitle != ''" >
            and invoice_title = #{example.invoiceTitle} 
        </if>
        <if test="example.postscript != null and example.postscript != ''" >
            and postscript = #{example.postscript} 
        </if>
        <if test="example.note != null and example.note != ''" >
            and note = #{example.note} 
        </if>
        <if test="example.prop != null and example.prop != ''" >
            and prop = #{example.prop} 
        </if>
        <if test="example.exp != null" >
            and exp = #{example.exp} 
        </if>
        <if test="example.point != null" >
            and point = #{example.point} 
        </if>
        <if test="example.type != null" >
            and type = #{example.type} 
        </if>
        <if test="orderBy != null" >
            order by ${orderBy} 
        </if>
        limit ${pageSize} offset ${(page - 1) * pageSize}
    </select>

    <select id="getByKey" resultMap="smartOrderMap">
        select <include refid="allField"/>
        from smart_order where id = #{key}
    </select>


</mapper>

