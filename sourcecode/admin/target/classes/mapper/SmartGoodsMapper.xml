<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="smart.mall.dao.SmartGoodsDao"> 

    <resultMap id="smartGoodsMap" type="smart.mall.domain.SmartGoodsDO">
        <id column="goodid" property="goodid"/>
        <result column="name" property="name"/>
        <result column="goods_no" property="goodsNo"/>
        <result column="model_id" property="modelId"/>
        <result column="sell_price" property="sellPrice"/>
        <result column="market_price" property="marketPrice"/>
        <result column="cost_price" property="costPrice"/>
        <result column="up_time" property="upTime"/>
        <result column="down_time" property="downTime"/>
        <result column="create_time" property="createTime"/>
        <result column="store_nums" property="storeNums"/>
        <result column="img" property="img"/>
        <result column="is_del" property="isDel"/>
        <result column="content" property="content"/>
        <result column="keywords" property="keywords"/>
        <result column="description" property="description"/>
        <result column="search_words" property="searchWords"/>
        <result column="weight" property="weight"/>
        <result column="point" property="point"/>
        <result column="unit" property="unit"/>
        <result column="brand_id" property="brandId"/>
        <result column="visit" property="visit"/>
        <result column="favorite" property="favorite"/>
        <result column="sort" property="sort"/>
        <result column="list_img" property="listImg"/>
        <result column="small_img" property="smallImg"/>
        <result column="spec_array" property="specArray"/>
        <result column="exp" property="exp"/>
    </resultMap>

    <sql id="allField">
        goodid,name,goods_no,model_id,sell_price,market_price,cost_price,up_time,down_time,create_time,store_nums,img,is_del,content,keywords,description,search_words,weight,point,unit,brand_id,visit,favorite,sort,list_img,small_img,spec_array,exp
    </sql>

    <insert id="save" useGeneratedKeys="false" keyProperty="goodid" parameterType="smart.mall.domain.SmartGoodsDO">
        insert into smart_goods
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="goodid != null" >
                goodid, 
            </if>
            <if test="name != null and name != ''" >
                name, 
            </if>
            <if test="goodsNo != null and goodsNo != ''" >
                goods_no, 
            </if>
            <if test="modelId != null" >
                model_id, 
            </if>
            <if test="sellPrice != null" >
                sell_price, 
            </if>
            <if test="marketPrice != null" >
                market_price, 
            </if>
            <if test="costPrice != null" >
                cost_price, 
            </if>
            <if test="upTime != null" >
                up_time, 
            </if>
            <if test="downTime != null" >
                down_time, 
            </if>
            <if test="createTime != null" >
                create_time, 
            </if>
            <if test="storeNums != null" >
                store_nums, 
            </if>
            <if test="img != null and img != ''" >
                img, 
            </if>
            <if test="isDel != null" >
                is_del, 
            </if>
            <if test="content != null and content != ''" >
                content, 
            </if>
            <if test="keywords != null and keywords != ''" >
                keywords, 
            </if>
            <if test="description != null and description != ''" >
                description, 
            </if>
            <if test="searchWords != null and searchWords != ''" >
                search_words, 
            </if>
            <if test="weight != null" >
                weight, 
            </if>
            <if test="point != null" >
                point, 
            </if>
            <if test="unit != null and unit != ''" >
                unit, 
            </if>
            <if test="brandId != null" >
                brand_id, 
            </if>
            <if test="visit != null" >
                visit, 
            </if>
            <if test="favorite != null" >
                favorite, 
            </if>
            <if test="sort != null" >
                sort, 
            </if>
            <if test="listImg != null and listImg != ''" >
                list_img, 
            </if>
            <if test="smallImg != null and smallImg != ''" >
                small_img, 
            </if>
            <if test="specArray != null and specArray != ''" >
                spec_array, 
            </if>
            <if test="exp != null" >
                exp, 
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="goodid != null" >
                #{goodid}, 
            </if>
            <if test="name != null and name != ''" >
                #{name}, 
            </if>
            <if test="goodsNo != null and goodsNo != ''" >
                #{goodsNo}, 
            </if>
            <if test="modelId != null" >
                #{modelId}, 
            </if>
            <if test="sellPrice != null" >
                #{sellPrice}, 
            </if>
            <if test="marketPrice != null" >
                #{marketPrice}, 
            </if>
            <if test="costPrice != null" >
                #{costPrice}, 
            </if>
            <if test="upTime != null" >
                #{upTime}, 
            </if>
            <if test="downTime != null" >
                #{downTime}, 
            </if>
            <if test="createTime != null" >
                #{createTime}, 
            </if>
            <if test="storeNums != null" >
                #{storeNums}, 
            </if>
            <if test="img != null and img != ''" >
                #{img}, 
            </if>
            <if test="isDel != null" >
                #{isDel}, 
            </if>
            <if test="content != null and content != ''" >
                #{content}, 
            </if>
            <if test="keywords != null and keywords != ''" >
                #{keywords}, 
            </if>
            <if test="description != null and description != ''" >
                #{description}, 
            </if>
            <if test="searchWords != null and searchWords != ''" >
                #{searchWords}, 
            </if>
            <if test="weight != null" >
                #{weight}, 
            </if>
            <if test="point != null" >
                #{point}, 
            </if>
            <if test="unit != null and unit != ''" >
                #{unit}, 
            </if>
            <if test="brandId != null" >
                #{brandId}, 
            </if>
            <if test="visit != null" >
                #{visit}, 
            </if>
            <if test="favorite != null" >
                #{favorite}, 
            </if>
            <if test="sort != null" >
                #{sort}, 
            </if>
            <if test="listImg != null and listImg != ''" >
                #{listImg}, 
            </if>
            <if test="smallImg != null and smallImg != ''" >
                #{smallImg}, 
            </if>
            <if test="specArray != null and specArray != ''" >
                #{specArray}, 
            </if>
            <if test="exp != null" >
                #{exp}, 
            </if>
        </trim>
    </insert>

    <update id="update" parameterType="smart.mall.domain.SmartGoodsDO">
        update smart_goods
        <set>
            <if test="name != null" >
                name = #{name}, 
            </if>
            <if test="goodsNo != null" >
                goods_no = #{goodsNo}, 
            </if>
            <if test="modelId != null" >
                model_id = #{modelId}, 
            </if>
            <if test="sellPrice != null" >
                sell_price = #{sellPrice}, 
            </if>
            <if test="marketPrice != null" >
                market_price = #{marketPrice}, 
            </if>
            <if test="costPrice != null" >
                cost_price = #{costPrice}, 
            </if>
            <if test="upTime != null" >
                up_time = #{upTime}, 
            </if>
            <if test="downTime != null" >
                down_time = #{downTime}, 
            </if>
            <if test="createTime != null" >
                create_time = #{createTime}, 
            </if>
            <if test="storeNums != null" >
                store_nums = #{storeNums}, 
            </if>
            <if test="img != null" >
                img = #{img}, 
            </if>
            <if test="isDel != null" >
                is_del = #{isDel}, 
            </if>
            <if test="content != null" >
                content = #{content}, 
            </if>
            <if test="keywords != null" >
                keywords = #{keywords}, 
            </if>
            <if test="description != null" >
                description = #{description}, 
            </if>
            <if test="searchWords != null" >
                search_words = #{searchWords}, 
            </if>
            <if test="weight != null" >
                weight = #{weight}, 
            </if>
            <if test="point != null" >
                point = #{point}, 
            </if>
            <if test="unit != null" >
                unit = #{unit}, 
            </if>
            <if test="brandId != null" >
                brand_id = #{brandId}, 
            </if>
            <if test="visit != null" >
                visit = #{visit}, 
            </if>
            <if test="favorite != null" >
                favorite = #{favorite}, 
            </if>
            <if test="sort != null" >
                sort = #{sort}, 
            </if>
            <if test="listImg != null" >
                list_img = #{listImg}, 
            </if>
            <if test="smallImg != null" >
                small_img = #{smallImg}, 
            </if>
            <if test="specArray != null" >
                spec_array = #{specArray}, 
            </if>
            <if test="exp != null" >
                exp = #{exp}, 
            </if>
        </set>
        where goodid = #{goodid}
    </update>

    <update id="updateByExample">
        update smart_goods
        <set>
            <if test="update.name != null" >
                name = #{update.name}, 
            </if>
            <if test="update.goodsNo != null" >
                goods_no = #{update.goodsNo}, 
            </if>
            <if test="update.modelId != null" >
                model_id = #{update.modelId}, 
            </if>
            <if test="update.sellPrice != null" >
                sell_price = #{update.sellPrice}, 
            </if>
            <if test="update.marketPrice != null" >
                market_price = #{update.marketPrice}, 
            </if>
            <if test="update.costPrice != null" >
                cost_price = #{update.costPrice}, 
            </if>
            <if test="update.upTime != null" >
                up_time = #{update.upTime}, 
            </if>
            <if test="update.downTime != null" >
                down_time = #{update.downTime}, 
            </if>
            <if test="update.createTime != null" >
                create_time = #{update.createTime}, 
            </if>
            <if test="update.storeNums != null" >
                store_nums = #{update.storeNums}, 
            </if>
            <if test="update.img != null" >
                img = #{update.img}, 
            </if>
            <if test="update.isDel != null" >
                is_del = #{update.isDel}, 
            </if>
            <if test="update.content != null" >
                content = #{update.content}, 
            </if>
            <if test="update.keywords != null" >
                keywords = #{update.keywords}, 
            </if>
            <if test="update.description != null" >
                description = #{update.description}, 
            </if>
            <if test="update.searchWords != null" >
                search_words = #{update.searchWords}, 
            </if>
            <if test="update.weight != null" >
                weight = #{update.weight}, 
            </if>
            <if test="update.point != null" >
                point = #{update.point}, 
            </if>
            <if test="update.unit != null" >
                unit = #{update.unit}, 
            </if>
            <if test="update.brandId != null" >
                brand_id = #{update.brandId}, 
            </if>
            <if test="update.visit != null" >
                visit = #{update.visit}, 
            </if>
            <if test="update.favorite != null" >
                favorite = #{update.favorite}, 
            </if>
            <if test="update.sort != null" >
                sort = #{update.sort}, 
            </if>
            <if test="update.listImg != null" >
                list_img = #{update.listImg}, 
            </if>
            <if test="update.smallImg != null" >
                small_img = #{update.smallImg}, 
            </if>
            <if test="update.specArray != null" >
                spec_array = #{update.specArray}, 
            </if>
            <if test="update.exp != null" >
                exp = #{update.exp}, 
            </if>
        </set>
        where 1 = 1 
        <if test="example.goodid != null" >
            and goodid = #{example.goodid} 
        </if>
        <if test="example.name != null" >
            and name = #{example.name} 
        </if>
        <if test="example.goodsNo != null" >
            and goods_no = #{example.goodsNo} 
        </if>
        <if test="example.modelId != null" >
            and model_id = #{example.modelId} 
        </if>
        <if test="example.sellPrice != null" >
            and sell_price = #{example.sellPrice} 
        </if>
        <if test="example.marketPrice != null" >
            and market_price = #{example.marketPrice} 
        </if>
        <if test="example.costPrice != null" >
            and cost_price = #{example.costPrice} 
        </if>
        <if test="example.upTime != null" >
            and up_time = #{example.upTime} 
        </if>
        <if test="example.downTime != null" >
            and down_time = #{example.downTime} 
        </if>
        <if test="example.createTime != null" >
            and create_time = #{example.createTime} 
        </if>
        <if test="example.storeNums != null" >
            and store_nums = #{example.storeNums} 
        </if>
        <if test="example.img != null" >
            and img = #{example.img} 
        </if>
        <if test="example.isDel != null" >
            and is_del = #{example.isDel} 
        </if>
        <if test="example.content != null" >
            and content = #{example.content} 
        </if>
        <if test="example.keywords != null" >
            and keywords = #{example.keywords} 
        </if>
        <if test="example.description != null" >
            and description = #{example.description} 
        </if>
        <if test="example.searchWords != null" >
            and search_words = #{example.searchWords} 
        </if>
        <if test="example.weight != null" >
            and weight = #{example.weight} 
        </if>
        <if test="example.point != null" >
            and point = #{example.point} 
        </if>
        <if test="example.unit != null" >
            and unit = #{example.unit} 
        </if>
        <if test="example.brandId != null" >
            and brand_id = #{example.brandId} 
        </if>
        <if test="example.visit != null" >
            and visit = #{example.visit} 
        </if>
        <if test="example.favorite != null" >
            and favorite = #{example.favorite} 
        </if>
        <if test="example.sort != null" >
            and sort = #{example.sort} 
        </if>
        <if test="example.listImg != null" >
            and list_img = #{example.listImg} 
        </if>
        <if test="example.smallImg != null" >
            and small_img = #{example.smallImg} 
        </if>
        <if test="example.specArray != null" >
            and spec_array = #{example.specArray} 
        </if>
        <if test="example.exp != null" >
            and exp = #{example.exp} 
        </if>
    </update>

    <delete id="delete">
        delete from smart_goods
        where goodid = #{key}
    </delete>

    <delete id="deleteByKey">
        delete from smart_goods
        where goodid = #{delete.goodid}
    </delete>

    <delete id="deleteByExample"> 
        delete from smart_goods
        where 1 = 1 
        <if test="example.goodid != null" >
            and goodid = #{example.goodid} 
        </if>
        <if test="example.name != null" >
            and name = #{example.name} 
        </if>
        <if test="example.goodsNo != null" >
            and goods_no = #{example.goodsNo} 
        </if>
        <if test="example.modelId != null" >
            and model_id = #{example.modelId} 
        </if>
        <if test="example.sellPrice != null" >
            and sell_price = #{example.sellPrice} 
        </if>
        <if test="example.marketPrice != null" >
            and market_price = #{example.marketPrice} 
        </if>
        <if test="example.costPrice != null" >
            and cost_price = #{example.costPrice} 
        </if>
        <if test="example.upTime != null" >
            and up_time = #{example.upTime} 
        </if>
        <if test="example.downTime != null" >
            and down_time = #{example.downTime} 
        </if>
        <if test="example.createTime != null" >
            and create_time = #{example.createTime} 
        </if>
        <if test="example.storeNums != null" >
            and store_nums = #{example.storeNums} 
        </if>
        <if test="example.img != null" >
            and img = #{example.img} 
        </if>
        <if test="example.isDel != null" >
            and is_del = #{example.isDel} 
        </if>
        <if test="example.content != null" >
            and content = #{example.content} 
        </if>
        <if test="example.keywords != null" >
            and keywords = #{example.keywords} 
        </if>
        <if test="example.description != null" >
            and description = #{example.description} 
        </if>
        <if test="example.searchWords != null" >
            and search_words = #{example.searchWords} 
        </if>
        <if test="example.weight != null" >
            and weight = #{example.weight} 
        </if>
        <if test="example.point != null" >
            and point = #{example.point} 
        </if>
        <if test="example.unit != null" >
            and unit = #{example.unit} 
        </if>
        <if test="example.brandId != null" >
            and brand_id = #{example.brandId} 
        </if>
        <if test="example.visit != null" >
            and visit = #{example.visit} 
        </if>
        <if test="example.favorite != null" >
            and favorite = #{example.favorite} 
        </if>
        <if test="example.sort != null" >
            and sort = #{example.sort} 
        </if>
        <if test="example.listImg != null" >
            and list_img = #{example.listImg} 
        </if>
        <if test="example.smallImg != null" >
            and small_img = #{example.smallImg} 
        </if>
        <if test="example.specArray != null" >
            and spec_array = #{example.specArray} 
        </if>
        <if test="example.exp != null" >
            and exp = #{example.exp} 
        </if>
    </delete>

    <select id="countByExample" resultType="java.lang.Integer"> 
        select count(*) from smart_goods where 1 = 1 
        <if test="example.goodid != null" >
            and goodid = #{example.goodid} 
        </if>
        <if test="example.name != null and example.name != ''" >
            and name = #{example.name} 
        </if>
        <if test="example.goodsNo != null and example.goodsNo != ''" >
            and goods_no = #{example.goodsNo} 
        </if>
        <if test="example.modelId != null" >
            and model_id = #{example.modelId} 
        </if>
        <if test="example.sellPrice != null" >
            and sell_price = #{example.sellPrice} 
        </if>
        <if test="example.marketPrice != null" >
            and market_price = #{example.marketPrice} 
        </if>
        <if test="example.costPrice != null" >
            and cost_price = #{example.costPrice} 
        </if>
        <if test="example.upTime != null" >
            and up_time = #{example.upTime} 
        </if>
        <if test="example.downTime != null" >
            and down_time = #{example.downTime} 
        </if>
        <if test="example.createTime != null" >
            and create_time = #{example.createTime} 
        </if>
        <if test="example.storeNums != null" >
            and store_nums = #{example.storeNums} 
        </if>
        <if test="example.img != null and example.img != ''" >
            and img = #{example.img} 
        </if>
        <if test="example.isDel != null" >
            and is_del = #{example.isDel} 
        </if>
        <if test="example.content != null and example.content != ''" >
            and content = #{example.content} 
        </if>
        <if test="example.keywords != null and example.keywords != ''" >
            and keywords = #{example.keywords} 
        </if>
        <if test="example.description != null and example.description != ''" >
            and description = #{example.description} 
        </if>
        <if test="example.searchWords != null and example.searchWords != ''" >
            and search_words = #{example.searchWords} 
        </if>
        <if test="example.weight != null" >
            and weight = #{example.weight} 
        </if>
        <if test="example.point != null" >
            and point = #{example.point} 
        </if>
        <if test="example.unit != null and example.unit != ''" >
            and unit = #{example.unit} 
        </if>
        <if test="example.brandId != null" >
            and brand_id = #{example.brandId} 
        </if>
        <if test="example.visit != null" >
            and visit = #{example.visit} 
        </if>
        <if test="example.favorite != null" >
            and favorite = #{example.favorite} 
        </if>
        <if test="example.sort != null" >
            and sort = #{example.sort} 
        </if>
        <if test="example.listImg != null and example.listImg != ''" >
            and list_img = #{example.listImg} 
        </if>
        <if test="example.smallImg != null and example.smallImg != ''" >
            and small_img = #{example.smallImg} 
        </if>
        <if test="example.specArray != null and example.specArray != ''" >
            and spec_array = #{example.specArray} 
        </if>
        <if test="example.exp != null" >
            and exp = #{example.exp} 
        </if>
    </select>

    <select id="listByExample"  resultMap="smartGoodsMap">
        select <include refid="allField" />
        from smart_goods where 1 = 1 
        <if test="example.goodid != null" >
            and goodid = #{example.goodid} 
        </if>
        <if test="example.name != null and example.name != ''" >
            and name = #{example.name} 
        </if>
        <if test="example.goodsNo != null and example.goodsNo != ''" >
            and goods_no = #{example.goodsNo} 
        </if>
        <if test="example.modelId != null" >
            and model_id = #{example.modelId} 
        </if>
        <if test="example.sellPrice != null" >
            and sell_price = #{example.sellPrice} 
        </if>
        <if test="example.marketPrice != null" >
            and market_price = #{example.marketPrice} 
        </if>
        <if test="example.costPrice != null" >
            and cost_price = #{example.costPrice} 
        </if>
        <if test="example.upTime != null" >
            and up_time = #{example.upTime} 
        </if>
        <if test="example.downTime != null" >
            and down_time = #{example.downTime} 
        </if>
        <if test="example.createTime != null" >
            and create_time = #{example.createTime} 
        </if>
        <if test="example.storeNums != null" >
            and store_nums = #{example.storeNums} 
        </if>
        <if test="example.img != null and example.img != ''" >
            and img = #{example.img} 
        </if>
        <if test="example.isDel != null" >
            and is_del = #{example.isDel} 
        </if>
        <if test="example.content != null and example.content != ''" >
            and content = #{example.content} 
        </if>
        <if test="example.keywords != null and example.keywords != ''" >
            and keywords = #{example.keywords} 
        </if>
        <if test="example.description != null and example.description != ''" >
            and description = #{example.description} 
        </if>
        <if test="example.searchWords != null and example.searchWords != ''" >
            and search_words = #{example.searchWords} 
        </if>
        <if test="example.weight != null" >
            and weight = #{example.weight} 
        </if>
        <if test="example.point != null" >
            and point = #{example.point} 
        </if>
        <if test="example.unit != null and example.unit != ''" >
            and unit = #{example.unit} 
        </if>
        <if test="example.brandId != null" >
            and brand_id = #{example.brandId} 
        </if>
        <if test="example.visit != null" >
            and visit = #{example.visit} 
        </if>
        <if test="example.favorite != null" >
            and favorite = #{example.favorite} 
        </if>
        <if test="example.sort != null" >
            and sort = #{example.sort} 
        </if>
        <if test="example.listImg != null and example.listImg != ''" >
            and list_img = #{example.listImg} 
        </if>
        <if test="example.smallImg != null and example.smallImg != ''" >
            and small_img = #{example.smallImg} 
        </if>
        <if test="example.specArray != null and example.specArray != ''" >
            and spec_array = #{example.specArray} 
        </if>
        <if test="example.exp != null" >
            and exp = #{example.exp} 
        </if>
        <if test="orderBy != null" >
            order by ${orderBy} 
        </if>
        limit ${pageSize} offset ${(page - 1) * pageSize}
    </select>

    <select id="getByKey" resultMap="smartGoodsMap">
        select <include refid="allField"/>
        from smart_goods where goodid = #{key}
    </select>


</mapper>

