<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="smart.mall.dao.SysUserDao">

    <resultMap id="sysUserMap" type="smart.mall.domain.SysUserDO">
        <id column="user_no" property="userNo"/>
        <result column="user_login_name" property="userLoginName"/>
        <result column="password" property="password"/>
        <result column="user_name" property="userName"/>
        <result column="user_name_en" property="userNameEn"/>
        <result column="mobile_phone" property="mobilePhone"/>
        <result column="p_code" property="pCode"/>
        <result column="dept_id" property="deptId"/>
        <result column="dept_name" property="deptName"/>
        <result column="status" property="status"/>
        <result column="gender" property="gender"/>
        <result column="crew_type" property="crewType"/>
        <result column="created_on" property="createdOn"/>
        <result column="created_by" property="createdBy"/>
        <result column="modified_on" property="modifiedOn"/>
        <result column="modified_by" property="modifiedBy"/>
    </resultMap>

    <sql id="allField">
        user_no,user_login_name,password,user_name,user_name_en,mobile_phone,p_code,dept_id,dept_name,
        status,gender,crew_type,created_on,created_by,modified_on,modified_by
    </sql>

    <insert id="save" useGeneratedKeys="false" keyProperty="userNo" parameterType="smart.mall.domain.SysUserDO">
        insert into sys_user
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="userNo != null and userNo != ''" >
                user_no, 
            </if>
            <if test="userLoginName != null and userLoginName != ''" >
                user_login_name, 
            </if>
            <if test="password != null and password != ''" >
                password, 
            </if>
            <if test="userName != null and userName != ''" >
                user_name, 
            </if>
            <if test="userNameEn != null and userNameEn != ''" >
                user_name_en, 
            </if>
            <if test="mobilePhone != null and mobilePhone != ''" >
                mobile_phone, 
            </if>
            <if test="pCode != null and pCode != ''" >
                p_code, 
            </if>
            <if test="deptId != null and deptId != ''" >
                dept_id, 
            </if>
            <if test="deptName != null and deptName != ''" >
                dept_name, 
            </if>
            <if test="status != null" >
                status, 
            </if>
            <if test="gender != null and gender != ''" >
                gender, 
            </if>
            <if test="crewType != null and crewType != ''" >
                crew_type, 
            </if>
            <if test="createdOn != null" >
                created_on, 
            </if>
            <if test="createdBy != null and createdBy != ''" >
                created_by, 
            </if>
            <if test="modifiedOn != null" >
                modified_on, 
            </if>
            <if test="modifiedBy != null and modifiedBy != ''" >
                modified_by, 
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="userNo != null and userNo != ''" >
                #{userNo}, 
            </if>
            <if test="userLoginName != null and userLoginName != ''" >
                #{userLoginName}, 
            </if>
            <if test="password != null and password != ''" >
                #{password}, 
            </if>
            <if test="userName != null and userName != ''" >
                #{userName}, 
            </if>
            <if test="userNameEn != null and userNameEn != ''" >
                #{userNameEn}, 
            </if>
            <if test="mobilePhone != null and mobilePhone != ''" >
                #{mobilePhone}, 
            </if>
            <if test="pCode != null and pCode != ''" >
                #{pCode}, 
            </if>
            <if test="deptId != null and deptId != ''" >
                #{deptId}, 
            </if>
            <if test="deptName != null and deptName != ''" >
                #{deptName}, 
            </if>
            <if test="status != null" >
                #{status}, 
            </if>
            <if test="gender != null and gender != ''" >
                #{gender}, 
            </if>
            <if test="crewType != null and crewType != ''" >
                #{crewType}, 
            </if>
            <if test="createdOn != null" >
                #{createdOn}, 
            </if>
            <if test="createdBy != null and createdBy != ''" >
                #{createdBy}, 
            </if>
            <if test="modifiedOn != null" >
                #{modifiedOn}, 
            </if>
            <if test="modifiedBy != null and modifiedBy != ''" >
                #{modifiedBy}, 
            </if>
        </trim>
    </insert>

    <update id="update" parameterType="smart.mall.domain.SysUserDO">
        update sys_user
        <set>
            <if test="userLoginName != null" >
                user_login_name = #{userLoginName}, 
            </if>
            <if test="password != null" >
                password = #{password}, 
            </if>
            <if test="userName != null" >
                user_name = #{userName}, 
            </if>
            <if test="userNameEn != null" >
                user_name_en = #{userNameEn}, 
            </if>
            <if test="mobilePhone != null" >
                mobile_phone = #{mobilePhone}, 
            </if>
            <if test="pCode != null" >
                p_code = #{pCode}, 
            </if>
            <if test="deptId != null" >
                dept_id = #{deptId}, 
            </if>
            <if test="deptName != null" >
                dept_name = #{deptName}, 
            </if>
            <if test="status != null" >
                status = #{status}, 
            </if>
            <if test="gender != null" >
                gender = #{gender}, 
            </if>
            <if test="crewType != null" >
                crew_type = #{crewType}, 
            </if>
            <if test="createdOn != null" >
                created_on = #{createdOn}, 
            </if>
            <if test="createdBy != null" >
                created_by = #{createdBy}, 
            </if>
            <if test="modifiedOn != null" >
                modified_on = #{modifiedOn}, 
            </if>
            <if test="modifiedBy != null" >
                modified_by = #{modifiedBy}, 
            </if>
        </set>
        where user_no = #{userNo}
    </update>

    <update id="updateByExample">
        update sys_user
        <set>
            <if test="update.userLoginName != null" >
                user_login_name = #{update.userLoginName}, 
            </if>
            <if test="update.password != null" >
                password = #{update.password}, 
            </if>
            <if test="update.userName != null" >
                user_name = #{update.userName}, 
            </if>
            <if test="update.userNameEn != null" >
                user_name_en = #{update.userNameEn}, 
            </if>
            <if test="update.mobilePhone != null" >
                mobile_phone = #{update.mobilePhone}, 
            </if>
            <if test="update.pCode != null" >
                p_code = #{update.pCode}, 
            </if>
            <if test="update.deptId != null" >
                dept_id = #{update.deptId}, 
            </if>
            <if test="update.deptName != null" >
                dept_name = #{update.deptName}, 
            </if>
            <if test="update.status != null" >
                status = #{update.status}, 
            </if>
            <if test="update.gender != null" >
                gender = #{update.gender}, 
            </if>
            <if test="update.crewType != null" >
                crew_type = #{update.crewType}, 
            </if>
            <if test="update.createdOn != null" >
                created_on = #{update.createdOn}, 
            </if>
            <if test="update.createdBy != null" >
                created_by = #{update.createdBy}, 
            </if>
            <if test="update.modifiedOn != null" >
                modified_on = #{update.modifiedOn}, 
            </if>
            <if test="update.modifiedBy != null" >
                modified_by = #{update.modifiedBy}, 
            </if>
        </set>
        where 1 = 1 
        <if test="example.userNo != null" >
            and user_no = #{example.userNo} 
        </if>
        <if test="example.userLoginName != null" >
            and user_login_name = #{example.userLoginName} 
        </if>
        <if test="example.password != null" >
            and password = #{example.password} 
        </if>
        <if test="example.userName != null" >
            and user_name = #{example.userName} 
        </if>
        <if test="example.userNameEn != null" >
            and user_name_en = #{example.userNameEn} 
        </if>
        <if test="example.mobilePhone != null" >
            and mobile_phone = #{example.mobilePhone} 
        </if>
        <if test="example.pCode != null" >
            and p_code = #{example.pCode} 
        </if>
        <if test="example.deptId != null" >
            and dept_id = #{example.deptId} 
        </if>
        <if test="example.deptName != null" >
            and dept_name = #{example.deptName} 
        </if>
        <if test="example.status != null" >
            and status = #{example.status} 
        </if>
        <if test="example.gender != null" >
            and gender = #{example.gender} 
        </if>
        <if test="example.crewType != null" >
            and crew_type = #{example.crewType} 
        </if>
        <if test="example.createdOn != null" >
            and created_on = #{example.createdOn} 
        </if>
        <if test="example.createdBy != null" >
            and created_by = #{example.createdBy} 
        </if>
        <if test="example.modifiedOn != null" >
            and modified_on = #{example.modifiedOn} 
        </if>
        <if test="example.modifiedBy != null" >
            and modified_by = #{example.modifiedBy} 
        </if>
    </update>

    <delete id="delete">
        delete from sys_user
        where user_no = #{key}
    </delete>

    <delete id="deleteByKey">
        delete from sys_user
        where user_no = #{delete.userNo}
    </delete>

    <delete id="deleteByExample"> 
        delete from sys_user
        where 1 = 1 
        <if test="example.userNo != null" >
            and user_no = #{example.userNo} 
        </if>
        <if test="example.userLoginName != null" >
            and user_login_name = #{example.userLoginName} 
        </if>
        <if test="example.password != null" >
            and password = #{example.password} 
        </if>
        <if test="example.userName != null" >
            and user_name = #{example.userName} 
        </if>
        <if test="example.userNameEn != null" >
            and user_name_en = #{example.userNameEn} 
        </if>
        <if test="example.mobilePhone != null" >
            and mobile_phone = #{example.mobilePhone} 
        </if>
        <if test="example.pCode != null" >
            and p_code = #{example.pCode} 
        </if>
        <if test="example.deptId != null" >
            and dept_id = #{example.deptId} 
        </if>
        <if test="example.deptName != null" >
            and dept_name = #{example.deptName} 
        </if>
        <if test="example.status != null" >
            and status = #{example.status} 
        </if>
        <if test="example.gender != null" >
            and gender = #{example.gender} 
        </if>
        <if test="example.crewType != null" >
            and crew_type = #{example.crewType} 
        </if>
        <if test="example.createdOn != null" >
            and created_on = #{example.createdOn} 
        </if>
        <if test="example.createdBy != null" >
            and created_by = #{example.createdBy} 
        </if>
        <if test="example.modifiedOn != null" >
            and modified_on = #{example.modifiedOn} 
        </if>
        <if test="example.modifiedBy != null" >
            and modified_by = #{example.modifiedBy} 
        </if>
    </delete>

    <select id="countByExample" resultType="java.lang.Integer"> 
        select count(*) from sys_user where 1 = 1 
        <if test="example.userNo != null and example.userNo != ''" >
            and user_no = #{example.userNo} 
        </if>
        <if test="example.userLoginName != null and example.userLoginName != ''" >
            and user_login_name = #{example.userLoginName} 
        </if>
        <if test="example.password != null and example.password != ''" >
            and password = #{example.password} 
        </if>
        <if test="example.userName != null and example.userName != ''" >
            and user_name LIKE CONCAT('%', #{example.userName}, '%') 
        </if>
        <if test="example.userNameEn != null and example.userNameEn != ''" >
            and user_name_en = #{example.userNameEn} 
        </if>
        <if test="example.mobilePhone != null and example.mobilePhone != ''" >
            and mobile_phone = #{example.mobilePhone} 
        </if>
        <if test="example.pCode != null and example.pCode != ''" >
            and p_code = #{example.pCode} 
        </if>
        <if test="example.deptId != null and example.deptId != ''" >
            and dept_id = #{example.deptId} 
        </if>
        <if test="example.deptName != null and example.deptName != ''" >
            and dept_name LIKE CONCAT('%', #{example.deptName}, '%')
        </if>
        <if test="example.status != null" >
            and status = #{example.status} 
        </if>
        <if test="example.gender != null and example.gender != ''" >
            and gender = #{example.gender} 
        </if>
        <if test="example.crewType != null and example.crewType != ''" >
            and crew_type = #{example.crewType} 
        </if>
        <if test="example.createdOn != null" >
            and created_on = #{example.createdOn} 
        </if>
        <if test="example.createdBy != null and example.createdBy != ''" >
            and created_by = #{example.createdBy} 
        </if>
        <if test="example.modifiedOn != null" >
            and modified_on = #{example.modifiedOn} 
        </if>
        <if test="example.modifiedBy != null and example.modifiedBy != ''" >
            and modified_by = #{example.modifiedBy} 
        </if>
    </select>

    <select id="listByExample"  resultMap="sysUserMap">
        select <include refid="allField" />
        from sys_user where 1 = 1 
        <if test="example.userNo != null and example.userNo != ''" >
            and user_no = #{example.userNo} 
        </if>
        <if test="example.userLoginName != null and example.userLoginName != ''" >
            and user_login_name = #{example.userLoginName} 
        </if>
        <if test="example.password != null and example.password != ''" >
            and password = #{example.password} 
        </if>
        <if test="example.userName != null and example.userName != ''" >
            and user_name LIKE CONCAT('%', #{example.userName}, '%') 
        </if>
        <if test="example.userNameEn != null and example.userNameEn != ''" >
            and user_name_en = #{example.userNameEn} 
        </if>
        <if test="example.mobilePhone != null and example.mobilePhone != ''" >
            and mobile_phone = #{example.mobilePhone} 
        </if>
        <if test="example.pCode != null and example.pCode != ''" >
            and p_code = #{example.pCode} 
        </if>
        <if test="example.deptId != null and example.deptId != ''" >
            and dept_id = #{example.deptId} 
        </if>
        <if test="example.deptName != null and example.deptName != ''" >
            and dept_name LIKE CONCAT('%', #{example.deptName}, '%')
        </if>
        <if test="example.status != null" >
            and status = #{example.status} 
        </if>
        <if test="example.gender != null and example.gender != ''" >
            and gender = #{example.gender} 
        </if>
        <if test="example.crewType != null and example.crewType != ''" >
            and crew_type = #{example.crewType} 
        </if>
        <if test="example.createdOn != null" >
            and created_on = #{example.createdOn} 
        </if>
        <if test="example.createdBy != null and example.createdBy != ''" >
            and created_by = #{example.createdBy} 
        </if>
        <if test="example.modifiedOn != null" >
            and modified_on = #{example.modifiedOn} 
        </if>
        <if test="example.modifiedBy != null and example.modifiedBy != ''" >
            and modified_by = #{example.modifiedBy} 
        </if>
        <if test="orderBy != null" >
            order by ${orderBy} 
        </if>
        limit ${pageSize} offset ${(page - 1) * pageSize}
    </select>

    <select id="getByKey" resultMap="sysUserMap">
        select <include refid="allField"/>
        from sys_user where user_no = #{key}
    </select>


</mapper>

